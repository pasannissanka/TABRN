query WorkspacesPagination($perPage: Int, $page: Int) {
  workspacePaginate(perPage: $perPage, page: $page) {
    count
    pageInfo {
      ...PaginationInfoData
    }
    items {
      ...WorkspaceData
    }
  }
}

query getWorkspace($slug: String!) {
  workspaceOne(filter: { slug: $slug }) {
    ...WorkspaceData
  }
}

mutation NewWorkspace($record: CreateOneWorkspaceInput!) {
  workspaceCreateOne(record: $record) {
    recordId
    record {
      ...WorkspaceData
    }
  }
}

# mutation DeleteWorkspace($id: MongoID!) {
#   workspaceDeleteOne(_id: $id) {
#     ...WorkspaceData
#   }
# }

mutation UpdateWorkspace(
  $filter: FilterUpdateOneWorkspaceInput!
  $record: UpdateOneWorkspaceInput!
) {
  workspaceUpdate(record: $record, filter: $filter) {
    recordId
    record {
      ...WorkspaceData
    }
  }
}

fragment WorkspaceData on Workspace {
  _id
  userId
  slug
  isDeleted
  createdAt
  updatedAt
  title
  icon
  description
  fields {
    key
    value
    kind
  }
}
